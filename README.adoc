= API-Sheriff
:toc: macro
:toclevels: 3
:sectnumlevels: 1

[.discrete]
== Status

**Build & Quality**

image:https://github.com/cuioss/API-Sheriff/actions/workflows/maven.yml/badge.svg?branch=main[Java CI with Maven,link=https://github.com/cuioss/API-Sheriff/actions/workflows/maven.yml]
image:https://github.com/cuioss/API-Sheriff/actions/workflows/integration-tests.yml/badge.svg[Integration Tests,link=https://github.com/cuioss/API-Sheriff/actions/workflows/integration-tests.yml]

image:https://img.shields.io/github/last-commit/cuioss/API-Sheriff/main[Last Build,link=https://github.com/cuioss/API-Sheriff/commits/main]
image:http://img.shields.io/:license-apache-blue.svg[License,link=http://www.apache.org/licenses/LICENSE-2.0.html]
image:https://img.shields.io/maven-central/v/de.cuioss.sheriff.api/api-sheriff-parent.svg?label=Maven%20Central["Maven Central", link="https://central.sonatype.com/artifact/de.cuioss.sheriff.api/api-sheriff-parent"]

image:https://sonarcloud.io/api/project_badges/measure?project=cuioss_API-Sheriff&metric=alert_status[Quality Gate Status,link=https://sonarcloud.io/summary/new_code?id=cuioss_API-Sheriff]
image:https://sonarcloud.io/api/project_badges/measure?project=cuioss_API-Sheriff&metric=ncloc[Lines of Code,link=https://sonarcloud.io/summary/new_code?id=cuioss_API-Sheriff]
image:https://sonarcloud.io/api/project_badges/measure?project=cuioss_API-Sheriff&metric=coverage[Coverage,link=https://sonarcloud.io/summary/new_code?id=cuioss_API-Sheriff]

**Performance Benchmarks**

image:https://github.com/cuioss/API-Sheriff/actions/workflows/benchmark.yml/badge.svg[JMH Benchmarks,link=https://github.com/cuioss/API-Sheriff/actions/workflows/benchmark.yml]
image:https://img.shields.io/endpoint?url=https://cuioss.github.io/api-sheriff/benchmarks/badges/last-run-badge.json[Last Benchmark Run,link=https://cuioss.github.io/api-sheriff/benchmarks/]

*Micro Benchmarks*

image:https://img.shields.io/endpoint?url=https://cuioss.github.io/api-sheriff/benchmarks/badges/performance-badge.json[API Sheriff Performance Score,link=https://cuioss.github.io/api-sheriff/benchmarks/index-visualizer.html]
image:https://img.shields.io/endpoint?url=https://cuioss.github.io/api-sheriff/benchmarks/badges/trend-badge.json[Performance Trend,link=https://cuioss.github.io/api-sheriff/benchmarks/performance-trends.html]

*Integration Benchmarks*

image:https://img.shields.io/endpoint?url=https://cuioss.github.io/api-sheriff/benchmarks/badges/integration-performance-badge.json[Integration Performance,link=https://cuioss.github.io/api-sheriff/benchmarks/integration-index.html]
image:https://img.shields.io/endpoint?url=https://cuioss.github.io/api-sheriff/benchmarks/badges/integration-trend-badge.json[Integration Trend,link=https://cuioss.github.io/api-sheriff/benchmarks/integration-performance-trends.html]

xref:benchmarking/doc/performance-scoring.adoc[Understand Performance Metrics]

https://cuioss.github.io/api-sheriff/about.html[Generated Documentation on github-pages]

[.discrete]
== What is it?

API-Sheriff is a lightweight, high-performance API Gateway focused on security and ease of use. It provides robust API gateway capabilities with comprehensive security features, rate limiting, authentication, and authorization in multi-tenant environments.

toc::[]

=== Key Features

* **Rate Limiting**: Thread-safe, configurable rate limiting with sliding window approach
* **Security First**: Built-in security measures for API gateway scenarios
* **Multi-tenant Support**: Per-client rate limiting and configuration
* **Framework Integration**: Native Quarkus extension with CDI support
* **High Performance**: Optimized for high-throughput scenarios with minimal overhead
* **Configuration Driven**: Flexible configuration system with builder pattern
* **Monitoring Ready**: Comprehensive logging and metrics support

=== Use Cases

* **API Gateway**: Protect your APIs from abuse and ensure fair usage
* **Rate Limiting**: Control request rates per client or globally  
* **Security Layer**: Add security controls to existing applications
* **Multi-tenant Applications**: Separate rate limits and policies per tenant
* **Microservices**: Lightweight security layer for microservice architectures

=== Architecture

The API-Sheriff library consists of several key components:

* **api-sheriff-library**: Core library with rate limiting and security features
* **api-sheriff-quarkus**: Quarkus extension for seamless integration
* **benchmarking**: Performance testing and optimization tools

=== Quick Start

[source,java]
----
// Create configuration
ApiGatewayConfig config = ApiGatewayConfig.builder()
    .rateLimit(100)
    .timeWindow(Duration.ofMinutes(1))
    .requestTimeout(Duration.ofSeconds(30))
    .corsEnabled(true)
    .build();

// Initialize API Sheriff
ApiSheriff sheriff = new ApiSheriff(config);

// Check if request is allowed
if (sheriff.isRequestAllowed("client-123", "/api/users")) {
    // Process request
} else {
    // Reject request - rate limit exceeded
}
----

=== Quarkus Integration

[source,java]
----
@ApplicationScoped
public class ApiGatewayService {
    
    @Inject
    ApiSheriff apiSheriff;
    
    public boolean checkRequest(String clientId, String endpoint) {
        return apiSheriff.isRequestAllowed(clientId, endpoint);
    }
}
----

Configuration via `application.properties`:
[source,properties]
----
api-sheriff.rate-limit=200
api-sheriff.time-window=60
api-sheriff.request-timeout=30
api-sheriff.cors-enabled=true
----

=== Maven Coordinates

[source,xml]
----
    <!-- Core Library -->
    <dependency>
        <groupId>de.cuioss.sheriff.api</groupId>
        <artifactId>api-sheriff-library</artifactId>
        <version>${api-sheriff.version}</version>
    </dependency>
    
    <!-- Quarkus Extension -->
    <dependency>
        <groupId>de.cuioss.sheriff.api</groupId>
        <artifactId>api-sheriff-quarkus</artifactId>
        <version>${api-sheriff.version}</version>
    </dependency>
----
